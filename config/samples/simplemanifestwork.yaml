apiVersion: work.open-cluster-management.io/v1
kind: ManifestWork
metadata:
  #namespace: okdmoc-spoke-cluster
  #namespace: okdhub-cluster
  #namespace: cluster1
  namespace: atos-edge
  name: example-manifestwork
spec:
  workload:
    manifests:
      #- apiVersion: v1
      #  kind: ServiceAccount
      #  metadata:
      #     namespace: physics-atos
      #     name: my-sa
      - apiVersion: apps/v1
        kind: Deployment
        metadata:
          namespace: physics-atos
          #namespace: default
          name: nginx-deployment
          labels:
            app: nginx
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: nginx
          template:
            metadata:
              labels:
                app: nginx
            spec:
              #serviceAccountName: my-sa
              containers:
                - name: nginx
                  #image: nginx
                  image: nginxinc/nginx-unprivileged
                  ports:
                    - containerPort: 80
  manifestConfigs:
    - resourceIdentifier:
        group: apps
        #kind: Deployment
        name: nginx-deployment
        namespace: physics-atos
        #namespace: default
        resource: deployments
        #version: v1
      feedbackRules:
        - type: WellKnownStatus
